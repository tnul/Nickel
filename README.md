Nickel (Никель) [![Build Status](https://travis-ci.org/Yardanico/Nickel.svg?branch=master)](https://travis-ci.org/Yardanico/Nickel)
======

Чат-бот для ВКонтакте, написанный на языке Nim.

## Текущий статус проекта
Этот бот может работать как и от имени пользователя (авторизация от имени приложения ВКонтакте на iPhone), так и от группы (через Long Polling или Callback API)

## Модули (доступные помечены галочкой)
- [x] Приветствие (Приветствует пользователя) - `привет`
- [x] Случайные мемы - `мемы`
- [x] Случайные загадки - `загадка`
- [x] Случайные факты - `факт`
- [x] Функции случайных чисел (случайные числа, оценки, шар предсказаний, случайная дата)
- [x] Курс валют (Отображение курсов основных валют) - `курс`
- [x] Время (Показывает текущую дату и время) - `время`
- [x] Блокнот (Может запоминать и вспоминать строки) - `напомни` и `запомни`
- [x] Рассказать шутку (берёт случайную цитату с https://bash.im) - `пошути`
- [x] Выключение (Выключает бота, если команду послал администратор бота) - `выключись`
- [x] Калькулятор - `посчитай 1+1`
- [x] Операции с текстом (перевернуть текст, зачеркнуть текст, сгенерировать смех)
- [x] Получение погоды - `погода в Москве завтра`
- [x] Получение краткого описания (первого абзаца) с Википедии по запросу - `вики Путин`
- [x] Хелперы (сокращение ссылки, ID пользователя по пересланному сообщению) - `сократи google.ru`
- [x] Перевод текста через API Яндекс.Переводчика - `переведи на китайский Привет!`
- [ ] Автообновление статуса
- [ ] Пересылка сообщений другому пользователю
- [ ] Озвучивание текста через голосовые сообщения

Данный список не всегда актуален, для актуальной информации просмотрите модули в папке `src/modules`

## Возможности (доступные и запланированные)
- [x] Полная асинхронность
- [x] Работа от имени группы
- [x] Работа от имени группы через Callback API
- [x] Конфигурация
- [x] Обработка ошибок
- [x] Логгирование событий в консоль
- [x] Система модулей
- [x] Возможность задавать несколько команд для одного модуля
- [x] Упрощённое создание модулей с помощью метапрограммирования (DSL)
- [x] Автоматическое распознавание неправильной раскладки
- [x] Работа от имени пользователя (через авторизацию под именем iPhone приложения ВК)
- [x] Возможность создавать и изменять префиксы бота
- [x] Автоматическое использование execute для ускорения работы бота под высокой нагрузкой
- [x] Конфигурация модулей
- [ ] Хранилище данных
- [ ] Тестирование производительности и оптимизация (если необходимо)

## Создание модулей
В папке `src/modules` есть модуль example.nim, в котором объяснены все основные возможности модулей.
Там же есть и другие модули, код которых можно изучить для понимания того, что можно реализовать с помощью бота.

Модули могут работать со всеми методами API ВКонтакте (от имени группы - только те, которые можно выполнять от имени группы).

Пример простейшего модуля, который отвечает на команду пользователя "привет":
```nim
include base

module "Приветствие":
  command "привет":
    usage = "привет - поприветствовать пользователя"
    answer "Привет!"
```
#### Связь со мной
Меня можно найти в ВКонтакте - https://vk.com/yardanico
